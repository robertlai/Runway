// Generated by CoffeeScript 1.10.0
(function() {
  angular.module('myApp').controller('loginController', [
    '$scope', '$location', 'AuthService', function(scope, location, AuthService) {
      return scope.login = function() {
        scope.error = false;
        scope.disabled = true;
        return AuthService.login(scope.loginForm.username, scope.loginForm.password).then(function() {
          location.path('/');
          scope.disabled = false;
          return scope.loginForm = {};
        })["catch"](function() {
          scope.error = true;
          scope.errorMessage = 'Invalid username and/or password';
          scope.disabled = false;
          return scope.loginForm = {};
        });
      };
    }
  ]);

  angular.module('myApp').controller('logoutController', [
    '$scope', '$location', 'AuthService', function(scope, location, AuthService) {
      return scope.logout = function() {
        return AuthService.logout().then(function() {
          return location.path('/login');
        });
      };
    }
  ]);

  angular.module('myApp').controller('registerController', [
    '$scope', '$location', 'AuthService', function(scope, location, AuthService) {
      return scope.register = function() {
        scope.error = false;
        scope.disabled = true;
        return AuthService.register(scope.registerForm.username, scope.registerForm.password).then(function() {
          location.path('/login');
          scope.disabled = false;
          return scope.registerForm = {};
        })["catch"](function() {
          scope.error = true;
          scope.errorMessage = 'Something went wrong!';
          scope.disabled = false;
          return scope.registerForm = {};
        });
      };
    }
  ]);

}).call(this);
